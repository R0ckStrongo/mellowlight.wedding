const slider=document.getElementById("before-after-slider"),before=document.getElementById("before-image"),beforeImage=before.getElementsByTagName("img")[0],resizer=document.getElementById("resizer");let active=!1;function slideIt(e){let t=Math.max(0,Math.min(e,slider.offsetWidth));before.style.width=t+"px",resizer.style.left=t-0+"px"}function pauseEvent(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}document.addEventListener("DOMContentLoaded",function(){let e=slider.offsetWidth;console.log(e),beforeImage.style.width=e+"px"}),window.addEventListener("resize",function(){let e=slider.offsetWidth;console.log(e),beforeImage.style.width=e+"px"}),resizer.addEventListener("mousedown",function(){active=!0,resizer.classList.add("resize")}),document.body.addEventListener("mouseup",function(){active=!1,resizer.classList.remove("resize")}),document.body.addEventListener("mouseleave",function(){active=!1,resizer.classList.remove("resize")}),document.body.addEventListener("mousemove",function(e){if(!active)return;let t=e.pageX;slideIt(t-=slider.getBoundingClientRect().left),pauseEvent(e)}),resizer.addEventListener("touchstart",function(){active=!0,resizer.classList.add("resize")}),document.body.addEventListener("touchend",function(){active=!1,resizer.classList.remove("resize")}),document.body.addEventListener("touchcancel",function(){active=!1,resizer.classList.remove("resize")}),document.body.addEventListener("touchmove",function(e){if(!active)return;let t,i;for(i=0;i<e.changedTouches.length;i++)t=e.changedTouches[i].pageX;slideIt(t-=slider.getBoundingClientRect().left),pauseEvent(e)});